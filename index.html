<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Meu Gestor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/css/modais.css">
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">
  <div class="flex min-h-screen">
    <div id="menu-container" class="shrink-0"></div>

    <main class="flex-1 p-6 flex flex-col">
      <div id="header-container"></div>

      <div class="flex-1">
        <h2 class="text-2xl font-semibold mb-6">Dashboard</h2>
        <p class="text-sm text-gray-500 mb-6">Pessoa Física & Jurídica</p>

        <!-- Filtros -->
        <div class="mb-6 flex gap-4">
          <button id="filtro-todos" class="bg-blue-700 text-white px-4 py-2 rounded shadow hover:bg-blue-800">Todas</button>
          <button id="filtro-pf" class="bg-gray-300 text-gray-800 px-4 py-2 rounded shadow hover:bg-gray-400">Pessoa Física</button>
          <button id="filtro-pj" class="bg-gray-300 text-gray-800 px-4 py-2 rounded shadow hover:bg-gray-400">Pessoa Jurídica</button>
        </div>

        <!-- RESUMOS -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 mb-6">
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-sm text-gray-500">Saldo Pessoa Física</h3>
            <p id="saldo-pf" class="text-xl font-bold text-green-600">R$ 0,00</p>
          </div>
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-sm text-gray-500">Saldo Pessoa Jurídica</h3>
            <p id="saldo-pj" class="text-xl font-bold text-green-600">R$ 0,00</p>
          </div>
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-sm text-gray-500">Despesas Mês</h3>
            <p id="despesas-mes" class="text-xl font-bold text-red-600">R$ 0,00</p>
          </div>
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-sm text-gray-500">Receitas Mês</h3>
            <p id="receitas-mes" class="text-xl font-bold text-blue-600">R$ 0,00</p>
          </div>
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-sm text-gray-500">Despesas Pendentes</h3>
            <p id="despesas-pendentes-mes" class="text-xl font-bold text-red-600">R$ 0,00</p>
          </div>
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-sm text-gray-500">Despesas Futuras</h3>
            <p id="despesas-futuras-30dias" class="text-xl font-bold text-orange-600">R$ 0,00</p>
          </div>
        </div>

        <!-- TABELA -->
        <div class="bg-white rounded-xl shadow p-4 mb-6">
          <h3 class="text-lg font-semibold mb-4">Últimos lançamentos</h3>
          <table class="w-full text-sm">
            <thead>
              <tr class="text-left text-gray-500 border-b">
                <th class="py-2">Data</th>
                <th>Descrição</th>
                <th>Tipo</th>
                <th>Valor</th>
                <th>Conta</th>
                <th>Status</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="lista-lancamentos"></tbody>
          </table>
        </div>

        <!-- BOTÃO -->
        <div class="text-right">
          <button id="btn-abrir-modal" class="bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded-xl shadow">
            ➕ Novo Lançamento
          </button>
        </div>
      </div>

      <div id="footer-container"></div>
    </main>
  </div>

  <!-- MODAL DE LANÇAMENTO -->
  <div id="modal-lancamento" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
    <div class="bg-white rounded-lg w-full max-w-lg p-6 relative">
      <button id="btn-fechar-modal" class="absolute top-2 right-3 text-gray-600 hover:text-gray-900 text-xl font-bold">&times;</button>
      <h2 class="text-xl font-semibold mb-4">Novo Lançamento</h2>

      <form id="form-lancamento" class="space-y-4">
        <div>
          <label class="block font-medium mb-1">Descrição</label>
          <input type="text" id="descricao" required class="w-full border rounded px-3 py-2" />
        </div>
        <div>
          <label class="block font-medium mb-1">Valor</label>
          <input type="number" step="0.01" min="0" id="valor" required class="w-full border rounded px-3 py-2" />
        </div>
        <div>
          <label class="block font-medium mb-1">Data</label>
          <input type="date" id="data" required class="w-full border rounded px-3 py-2" />
        </div>
        <div>
          <label class="block font-medium mb-1">Tipo</label>
          <select id="tipo" required class="w-full border rounded px-3 py-2">
            <option value="receita">Receita</option>
            <option value="despesa">Despesa</option>
          </select>
        </div>
        <div>
          <label class="block font-medium mb-1">Conta</label>
          <div class="flex gap-2">
            <select id="select-conta" required class="flex-grow border rounded px-3 py-2"></select>
            <button type="button" id="btn-add-conta" class="bg-green-500 text-white px-3 rounded">+</button>
          </div>
        </div>
        <div>
          <label class="block font-medium mb-1">Categoria</label>
          <div class="flex items-center gap-2">
            <select id="select-categoria" class="border rounded p-2 flex-1" required></select>
            <button type="button" id="btn-add-categoria" class="bg-green-500 text-white px-2 py-1 rounded" title="Nova categoria">+</button>
          </div>
        </div>
        <div>
          <label class="block font-medium mb-1">Status</label>
          <select id="status" class="w-full border rounded px-3 py-2">
            <option value="pendente">Pendente</option>
            <option value="pago">Pago</option>
            <option value="recebido">Recebido</option>
          </select>
        </div>

        <!-- Google Agenda -->
        <div>
          <label class="flex items-center gap-2 font-medium">
            <input type="checkbox" id="adicionar-agenda" class="w-5 h-5 text-blue-600" />
            Adicionar ao Google Agenda
          </label>
        </div>

        <!-- Recorrente -->
        <div>
          <label class="flex items-center gap-2 font-medium">
            <input type="checkbox" id="recorrente" class="w-5 h-5 text-blue-600" />
            Lançamento Recorrente
          </label>
        </div>

        <div id="recorrencia-config" class="space-y-2 hidden">
          <div>
            <label class="block font-medium mb-1">Frequência</label>
            <select id="frequencia" class="w-full border rounded px-3 py-2">
              <option value="">Selecione</option>
              <option value="diaria">Diária</option>
              <option value="semanal">Semanal</option>
              <option value="quinzenal">Quinzenal</option>
              <option value="mensal">Mensal</option>
              <option value="bimestral">Bimestral</option>
              <option value="semestral">Semestral</option>
              <option value="anual">Anual</option>
              <option value="outros">Outro (customizado)</option>
            </select>
          </div>
          <div id="campo-outros" class="hidden">
            <label class="block font-medium mb-1">Intervalo personalizado (em meses)</label>
            <input type="number" id="frequencia-outros" min="1" class="w-full border rounded px-3 py-2" />
          </div>
          <div>
            <label class="block font-medium mb-1">Número de repetições</label>
            <input type="number" id="repeticoes" min="1" class="w-full border rounded px-3 py-2" />
          </div>
        </div>

        <div class="text-right">
          <button type="button" id="btn-cancelar" class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400">Cancelar</button>
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal de Nova Categoria -->
  <div id="modal-categoria" class="modal-bg hidden">
    <div class="modal-content">
      <h2 class="text-lg font-semibold mb-4">Nova Categoria</h2>
      <form id="form-modal-categoria" class="space-y-4">
        <div>
          <label for="nome-modal-categoria" class="block text-sm font-medium mb-1">Nome da Categoria</label>
          <input type="text" id="nome-modal-categoria" class="w-full border rounded p-2" required />
        </div>
        <div>
          <label for="tipo-modal-categoria" class="block text-sm font-medium mb-1">Tipo</label>
          <select id="tipo-modal-categoria" class="w-full border rounded p-2" required>
            <option value="receita">Receita</option>
            <option value="despesa">Despesa</option>
            <option value="ambos">Ambos</option>
          </select>
        </div>
        <div class="flex justify-end gap-2">
          <button type="button" id="btn-cancelar-modal-categoria" class="bg-gray-300 px-4 py-2 rounded">Cancelar</button>
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="assets/js/includes.js"></script>
  <script type="module" src="assets/js/dashboard.js"></script>
  <script type="module" src="assets/js/google.js"></script>
</body>
</html>
